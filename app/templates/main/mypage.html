{% extends "base2.html" %}

{% block header_content %}
{# マイページ専用のロゴエリア #}
<div class="fuwasuke_log2 log_mypage">
    <p>
        <img src="{{ url_for('static', filename='image/ふわすけロゴ2.png') }}" alt="ふわすけロゴ">
    </p>
</div>
{% endblock %}

{% block content %}
<main class="mypage-content">
    <div class="profile-header">
        <h3 class="username">{{ user.user_name if user else "ユーザー名" }}さん</h3>
        <p class="today_mood">今日の気分：元気</p>
    </div>

    <div class="today_task">
        <div class="now_task">
            <p>進行中のタスク</p>
            <p class="task_num">5件</p>
        </div>
        <div class="completed_task">
            <p>完了したタスク</p>
            <p class="task_num">10件</p>
        </div>
    </div>

    <div class="notice">
        <h3>通知設定</h3>
        <div class="notice_button">
            <button type="button" class="is_active" id="btn_on">ON</button>
            <button type="button" id="btn_off">OFF</button>
        </div>
    </div>

    <div class="setting_life_rhythm">
    <h3>生活リズムの設定</h3>
    <form class="life_rhythm_form">
        <div class="setting_items">
            <div class="setting_time">
                <div class="setting_item">
                    <div class="item_label">
                        <i class="fa-solid fa-sun"></i>
                        <p>起床時間</p>
                    </div>
                    <input type="time" name="wakeup_time" value="07:00" class="time_input">
                </div>
                
                <div class="setting_item">
                    <div class="item_label">
                        <i class="fa-solid fa-moon"></i>
                        <p>就寝時間</p>
                    </div>
                    <input type="time" name="sleep_time" value="23:00" class="time_input">
                </div>
            </div>
            

            <div class="save_area">
                <button type="submit" class="save_button" id="save-button" disabled>保存する</button>
            </div>
        </div>
    </form>
    </div>

    <div class="logout_area">
        <a href="{{ url_for('auth.logout') }}" class="logout">
        ログアウト
        </a>
    </div>
</main>

<div id="save-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <p>変更されました</p>
        <button type="button" id="close-modal">閉じる</button>
    </div>
</div>


<div id="logout-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <p>本当にログアウトしますか？</p>
        <div class="modal-buttons" style="display: flex; gap: 10px; justify-content: center;">
            <button type="button" id="confirm-logout" style="background-color: #ff6666;">はい</button>
            <button type="button" id="cancel-logout" style="background-color: #ccc;">いいえ</button>
        </div>
    </div>
</div>

<script src="{{url_for('static',filename='js/mypage.js')}}"></script>
{% endblock %}